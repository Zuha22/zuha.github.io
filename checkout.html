<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Checkout & Payment | My Dummy Store</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1><a href="index.html">My Dummy Store</a></h1>
        <nav>
            <a href="cart.html">View Cart (<span id="cart-count">0</span>)</a>
        </nav>
    </header>

    <main>
        <h2>Secure Checkout</h2>

        <div class="checkout-form-container">
            <h3>1. Shipping Information</h3>
            <form id="checkout-form">
                <label for="name">Full Name:</label>
                <input type="text" id="name" name="name" required>

                <label for="address">Address:</label>
                <input type="text" id="address" name="address" required>

                <h3>2. Payment Details (Simulated)</h3>
                <label for="card">Card Number:</label>
                <input type="text" id="card" name="card" placeholder="XXXX XXXX XXXX XXXX" required>

                <label for="expiry">Expiry Date:</label>
                <input type="text" id="expiry" name="expiry" placeholder="MM/YY" required>

                <div class="cart-summary final-total">
                    <h4>Order Total: $<span id="final-total">0.00</span></h4>
                </div>

                <button type="submit" id="simulated-payment-btn">Place Simulated Order</button>
            </form>
        </div>
    </main>

    <footer>
        <p><a href="cart.html">Back to Cart</a></p>
    </footer>

    <script src="script.js"></script>
    <script>
        // Ensure the cart content and header count are updated on this page
        document.addEventListener('DOMContentLoaded', () => {
            updateCartDisplay();
            // Get total from cart and display it on the checkout page
            const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0).toFixed(2);
            document.getElementById('final-total').textContent = total;
            
            // Attach the final simulated checkout function to the form submit
            document.getElementById('checkout-form').addEventListener('submit', (e) => {
                e.preventDefault();
                simulatedCheckout();
            });
        });
    </script>
</body>
</html>
